# 介质访问控制

## 信道划分介质访问控制

属于**静态划分信道**的方法

1. 频分复用FDM

2. 时分复用TDM / 同步时分复用

3. 统计时分复用STDM / 异步时分复用

   * **STDM帧的时隙数小于集中器连接的用户数**

4. 波分复用WDM

   1. 光复用器=合波器；掺铒光纤放大器EDFA(Erbium Doped Fiber Amplifier)；光分用器=分波器
   2. 密集波分复用DWDM

5. 码分复用CDM

   1. [通俗理解CDMA](https://blog.csdn.net/dog250/article/details/6420427)

   2. 沃尔什向量

      ![沃尔什向量](../../../../计算机科学/计算机网络/notes/物理层/resources/沃尔什向量.png)

   3. 一个比特被分为m bit的码片(Chip)，m通常为64或128

   4. 每一个站被指派自己的码片序列(取m=8)，比如：

      |      |   编码   |            码片序列            |
      | ---- | :------: | :----------------------------: |
      | A的1 | 11110000 |   1，1，1，1，-1，-1，-1，-1   |
      | A的0 | 00001111 |   -1，-1，-1，-1，1，1，1，1   |
      | B的1 | 11111111 |     1，1，1，1，1，1，1，1     |
      | B的0 | 00000000 | -1，-1，-1，-1，-1，-1，-1，-1 |

      CSMA要求，不同编码必须正交

      发送端，A发送0，B发送1
      $$
      [-1,-1,-1,-1,+1,+1,+1,+1]\\+[+1,+1,+1,+1,+1,+1,+1,+1]\\=
      [0,0,0,0,2,2,2,2]
      $$
      A接受端
      $$
      \frac{[0,0,0,0,2,2,2,2]\cdot [1,1,1,1,-1,-1,-1,-1]}{8}=-1
      $$
      B接受端
      $$
      \frac{[0,0,0,0,2,2,2,2]\cdot [1,1,1,1,1,1,1,1]}{8}=1
      $$

   5. 扩频(Spread Specturm)

      1. 原因：一个码片有m位，原来发送比特速率为b bit/s，现在就需要扩充到mb bit/s，对应的频率域也需要扩充。
      2. 直接序列扩频（DSSS）
      3. 调频扩频（FHSS）

## 随机访问介质访问控制

属于**动态划分信道**的方法

1. ALOHA协议：不听就说

   1. **纯ALOHA协议**

      1. 发送：想发就发
      2. 冲突：等会儿再发
      3. 网络吞吐量：S是T时间内成功发送帧数，G是网络负载量

      $$
      S = G\cdot e^{-2G}\\
      S_{max}=S(0.5)=0.184
      $$

   2. **时隙ALOHA协议**

      1. 发送：时隙开始时发
      2. 冲突：下个时隙概率p重传，否则以此类推
      3. 网络吞吐量：S是T时间内成功发送帧数，G是网络负载量

      $$
      S = G\cdot e^{-G}\\
      S_{max}=S(0.5)=0.368
      $$

2. CSMA协议：先听再说——“听”：监测电压摆动值

   1. **1-坚持CSMA**
      1. 信道空闲：**立刻传输**
      2. 信道忙：忙则等待，**一直监听信道，空闲立刻传输**
      3. 发生冲突(一段时间内未收到肯定回复)：等待一个随机长的时间再监听,重复上述过程。
      4. 优点:只要媒体空闲,站点就马上发送,避免了媒体利用率的损失。
      5. 缺点:假如有两个或两个以上的站点有数据要发送,冲突就不可避免。
   2. **非坚持CSMA**
      1. 信道空闲：**立刻传输**
      2. 信道忙：忙则等待，**等待随机时间后，再监测到空闲再传输**
      3. 优点:采用随机的重发延迟时间可以减少冲突发生的可能性。
      4. 缺点:可能存在大家都在延迟等待过程中,使得媒体仍可能处于空闲状态,媒体使用率降低。

   1. **p-坚持CSMA**
      1. 信道空闲：**概率p传输本时间槽传输，概率1-p下一个时间槽传输**
         1. 信道忙：忙则等待，**等待随机时间后，再监测到空闲再传输**
         2. 优点：既能像非坚持算法那样减少冲突,又能像1-坚持算法那样减少媒体空闲时间的这种方案。
         3. 缺点：发生冲突后还是要坚持把数据帧发送完,造成了浪费。

   |  种类  |                   信道空闲                   |               信道忙               |
   | :----: | :------------------------------------------: | :--------------------------------: |
   | 1-坚持 |                    直接发                    |          一直监听直到空闲          |
   | 非坚持 |                    直接发                    | （改进方案）过会儿监听看看是否空闲 |
   | p-坚持 | （改进方案）概率p现在发，概率1-p下一时间槽发 |       过会儿监听看看是否空闲       |

   

3. CSMA/CD

## 轮询访问介质访问控制

属于**动态划分信道**的

