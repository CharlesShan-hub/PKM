# 流量控制

2023.2.8

## 停止等待与滑动窗口流量控制原理

1. 停止等待是窗口=1的滑动窗口
2. 窗口大小固定（传输层不固定）

## 可靠传输机制

1. 停止等待ARQ
2. 后退N帧ARQ
3. 选择重传ARQ
4. 2与3统称连续ARQ

## 单帧滑动窗口与停止等待协议

1. 0，1帧用ACK0，ACK1确认（**确认收到的帧**而不是下一帧）
2. 接收端重复接受n：表明发送端进行了超时重传
3. 发送端重复接受ACKn：表明接收端接到了重复帧

## 多帧滑动窗口与后退N帧协议

1. 累计确认

2. 接收方只能按序接受

3. 窗口大小
   $$
   1≤W_T≤2^n-1
   $$

## 多帧滑动窗口与选择重传协议

1. 选择重传ARQ协议；错误传NAK（否定帧）

2. 窗口大小（用nbit对帧编号）
   $$
   W_T+W_R≤2^n\\
   W_T=W_R=2^{n-1}
   $$

## 计算题总结

1. 【窗口的定义】
   对于窗口大小为n的滑动窗口,最多可以有()帧已发送但没有确认
   答案：n-1。**窗口大小是指2^k=n，发送窗口大小最大=窗口大小-1**
2. 【表述】
   注意要重发的“帧数”不是帧的序号
3. 

