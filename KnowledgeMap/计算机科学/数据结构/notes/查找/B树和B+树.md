# B树和B+树
2022.10.06

[TOC]

## B树及其基本操作

1. 定义：B树又名多路平衡查找树。m阶B树每个节点最多有m个指针和m-1个关键字！

   ![image-20221006181106751](resources/5阶B树举例.png)

2. 性质

   1. 结点孩子个数 = 结点关键字+1
   2. 根结点没有关键字就没有子树，B树为空；根结点有关键字，其子树必然大于等于两棵
   3. 除根结点外所有非终端结点至少有 $\lceil m/2 \rceil$ 个子树
   4. 结点中关键字从左到右递增有序
   5. 高度：m阶B树有n个结点。
   6. 每个结点最多m-1个结点：B树高度h ≥ log_2 (n+1)，n≤(m-1)(1+m+m^2+...+m^{h-1})=m^h -1
   7. 每个结点最少$\lceil m/2 \rceil$个子树：B树结点叶子 = 关键字n + 1 ≥ $2(\lceil m/2 \rceil)^{k-1}$

3. B树的查找

4. B树的插入

   1. 上溢的方法：m阶B树最多一个结点m-1个结点。如果超了就要上溢。上溢的结点是$\lceil m/2 \rceil$
   2. ![image-20221006204104286](resources/B树.png)

5. B树的删除

   1. 直接删除：如果结点关键字≥$\lceil m/2 \rceil$，可以直接删除

   2. 兄弟够借：兄弟借一个到父结点，父结点拿一个下来

      ![image-20221006204812488](resources/B删除1.png)

   3. 兄弟不够借：父结点直接和兄弟组一个新子结点

      ![image-20221006204931655](resources/B删除2.png)


## B+树的基本概念

![image-20221006205908556](resources/B+.png)

## 习题

