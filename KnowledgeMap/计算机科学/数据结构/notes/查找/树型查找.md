# æ ‘å‹æŸ¥æ‰¾
2022.10.06

[TOC]

## æ€æƒ³

### äºŒå‰æ’åºæ ‘(BST)

1. BSTçš„æ€æƒ³ï¼šå·¦<æ ¹<å³
2. BSTåˆ é™¤ç»“ç‚¹ï¼šå¦‚æœæŸä¸€è¾¹å­æ ‘ä¸ºç©ºï¼Œå°±æŠŠå¦ä¸€è¾¹å­æ ‘æ¥ä¸Šã€‚å¦‚æœä¸¤è¾¹å­æ ‘éƒ½ä¸æ˜¯ç©ºï¼Œå°±æ‰¾åˆ°**å³è¾¹çš„æœ€å·¦ä¸‹æˆ–å·¦è¾¹çš„æœ€å³ä¸‹**ï¼Œæ”¾åˆ°åˆ é™¤çš„ç»“ç‚¹çš„ä½ç½®ã€‚

### å¹³è¡¡äºŒå‰æ ‘(AVL)

* AVLæ ‘çš„æ€æƒ³ï¼šå·¦å³å­æ ‘é«˜åº¦å·®<1

* AVLæ ‘çš„æ’å…¥ï¼šå…ˆæ’å…¥ï¼Œå†è°ƒæ•´ã€‚

  * å·¦æ—‹ï¼šRR

    ![image-20221005160115932](resources/RR.png)

    ![RR](resources/RR.gif)

  * å³æ—‹ï¼šLL

    ![image-20221005160033417](resources/LL.png)

    ![LL](resources/LL-zhihu.gif)

  * å…ˆå·¦åå³ï¼šLR

    ![image-20221005160408271](resources/LR.png)

    ![v2-ec1752fdffa88dd89f8f83c5dfd2a50d_1440w](resources/LR-zhuhu.png)

  * å…ˆå³åå·¦ï¼šRL

    ![image-20221005160440150](resources/RL.png)

    ![RL](resources/RL-zhuihu.png)

* AVLæ ‘çš„åˆ é™¤ï¼šåˆ å®Œäº†åœ¨è¿›è¡Œä¸Šè¿°çš„æ—‹è½¬

### çº¢é»‘æ ‘

> â­•ï¸ çŸ¥ä¹çº¢é»‘æ ‘ä¸“é¢˜ï¼šhttps://www.zhihu.com/topic/19648609/hot
>
> âœ¨ çº¢é»‘æ ‘å®šä¹‰ä¸æ’å…¥ï¼šhttps://www.bilibili.com/video/BV1BB4y1X7u3/
>
> âœ¨ çº¢é»‘æ ‘çš„åˆ é™¤ï¼šhttps://www.bilibili.com/video/BV1Ce4y1Q76H

1. çº¢é»‘æ ‘çš„å®šä¹‰ï¼š

   1. æ ¹ç»“ç‚¹ï¼šé»‘è‰²
   2. å¶å­ç»“ç‚¹ï¼šé»‘è‰²
   3. æ™®é€šç»“ç‚¹ï¼šçº¢è‰²æˆ–é»‘è‰²
   4. ä¸å­˜åœ¨ä¸¤ä¸ªç›¸é‚»çš„çº¢ç»“ç‚¹
   5. æ¯ä¸ªèŠ‚ç‚¹ï¼Œä»è¯¥ç»“ç‚¹åˆ°ä»»ä¸€å¶ç»“ç‚¹çš„ç®€å•è·¯å¾„ä¸Šï¼Œæ‰€å«é»‘ç»“ç‚¹æ•°é‡ç›¸åŒ
   6. æ–°èŠ‚ç‚¹é»˜è®¤ä¸ºçº¢è‰²

   > æ ¹å¶é»‘ï¼Œä¸çº¢çº¢ï¼Œé»‘è·¯åŒ

2. æ¦‚å¿µä¸ç»“è®º

   1. é»‘é«˜ï¼šä»æŸä¸€ç»“ç‚¹(ä¸å«)åˆ°å¶å­ç»“ç‚¹è·¯å¾„ä¸Šé»‘ç»“ç‚¹çš„ä¸ªæ•°å«é»‘é«˜ã€‚æ ¹ç»“ç‚¹çš„é»‘é«˜ç§°ä¸ºçº¢é»‘æ ‘çš„é»‘é«˜
   
   2. ä»æ ¹ç»“ç‚¹åˆ°å¶å­ç»“ç‚¹çš„æœ€é•¿è·¯å¾„ä¸å¤§äºæœ€çŸ­è·¯å¾„çš„2å€ã€‚æœ€çŸ­è·¯å¾„ä¸€å®šæ˜¯å…¨é»‘ï¼Œè·¯å¾„æœ€é•¿æ—¶ä¸€å®šnçº¢+né»‘
   
   3. æœ‰nä¸ªå†…éƒ¨ç»“ç‚¹çš„çº¢é»‘æ ‘çš„é«˜åº¦hâ‰¤log_2 (n+1)
   
   4. [é«˜æ¸…svgæ ¼å¼å›¾](https://charlesshan.top/KnowledgeMap/è®¡ç®—æœºç§‘å­¦/æ•°æ®ç»“æ„/notes/æŸ¥æ‰¾/resources/çº¢é»‘æ ‘.svg)
   
      [Xmindæºæ–‡ä»¶](https://charlesshan.top/KnowledgeMap/è®¡ç®—æœºç§‘å­¦/æ•°æ®ç»“æ„/notes/æŸ¥æ‰¾/resources/å°ç»“.xmind)

![çº¢é»‘æ ‘](resources/çº¢é»‘æ ‘.png)

> çº¢é»‘æ ‘åˆ é™¤å¦™è®°ï¼š
>
> æ¯ä¸ªäººéƒ½æœ‰ä¸€é¢—å¿ƒã€‚æœ‰çš„äººï¼Œå¿ƒæ˜¯çº¢çš„ï¼›æœ‰çš„äººï¼Œå¿ƒæ˜¯é»‘çš„ã€‚
>
> çº¢å¿ƒçš„äººå–„è‰¯ï¼Œé‡åˆ°äº‹æƒ…è‡ªå·±æ‰›ã€‚è€Œé»‘å¿ƒçš„äººæ€»æƒ³ç€åˆ©ç”¨åˆ«äººï¼ŒçœŸæ˜¯è¿˜è¦æ‹‰äººä¸‹æ°´ï¼
>
> è®©ä¸€ä¸ªçº¢å¿ƒçš„äººç¦»å¼€ï¼Œå¥¹çœŸçš„å°±å…€è‡ªèµ°å¼€äº†ã€‚(*ç›´æ¥åˆ é™¤çº¢è‰²å¶å­ç»“ç‚¹*)
>
> ä½†å½“ä¸€ä¸ªå¿ƒé»‘çš„äººç¦»å¼€ï¼Œä»–ä¸€å®šè¦æä¸€äº›äº‹æƒ…ï¼Œè€Œä¸”è¿˜ä»èº«è¾¹çš„äººä¸‹æ‰‹ï¼
>
> ä¸€ä¸ªå¿ƒé»‘çš„äººç¦»å¼€ï¼Œä»–ä¼šå¯¹è‡ªå·±çš„å”¯ä¸€çš„å­©å­ç—›ä¸‹æ€æ‰‹ï¼Œè®©å¤©çœŸçš„å­©å­å˜æˆæ˜”æ—¥çš„è‡ªå·±ã€‚ï¼ˆ*é»‘ç»“ç‚¹æœ‰ä¸€ä¸ªçº¢å­©å­ï¼Œåˆ é™¤é»‘ç»“ç‚¹ï¼Œçº¢å­©å­æŸ“é»‘*ï¼‰
>
> å½“è¿™ä¸ªå¿ƒé»‘çš„äººæ²¡æœ‰å­©å­ï¼Œä»–å°±ä¼šå¯¹è‡ªå·±å…„å¼Ÿä¸‹æ‰‹ã€‚å¯ç¬‘çš„äº‹ï¼Œä¸æ˜¯ä¸€å®¶äººï¼Œä¸è¿›ä¸€å®¶é—¨ã€‚å¿ƒé»‘çš„äººé€šå¸¸æœ‰ä¸ªå¿ƒé»‘çš„å…„å¼Ÿã€‚é»‘å¿ƒå…„å¼Ÿå‘ç°æœ‰äººå®³è‡ªå·±ï¼Œèµ¶ç´§æŠŠè‡ªå·±çš„è‹¦éš¾è½¬ç§»ç»™åˆ«äººã€‚ï¼ˆ*é»‘å¶å­ç»“ç‚¹+é»‘è‰²å…„å¼Ÿçš„æƒ…å†µ*ï¼‰
>
> è¿™ä¸ªé»‘å¿ƒçš„å…„å¼Ÿä¸ä»…æ®‹å®³è‡ªå·±çš„å–„è‰¯çš„å­©å­ï¼Œè¿˜æ¬ºè´Ÿè‡ªå·±å¹´è¿ˆçš„çˆ¶äº²ã€‚é»‘å¿ƒçš„å…„å¼Ÿè°‹æœç¯¡ä½ï¼Œè‡ªå·±å½“çˆ·çˆ·ï¼Œè®©åŸæ¥çš„çˆ·çˆ·å’Œè‡ªå·±å–„è‰¯çš„å­©å­å˜å¾—å¿ƒé»‘ï¼ˆ*åˆ é™¤é»‘å¶å­ï¼Œé»‘è‰²å…„å¼Ÿæœ‰çº¢å­©å­ï¼ŒLLå’ŒRRæƒ…å†µ*ï¼‰ã€‚å½“ç„¶ä¹Ÿæœ‰å¦ä¸€ç§å¯èƒ½ï¼Œä»–å–„è‰¯çš„å­©å­ç”±äºè€³æ¿¡ç›®æŸ“ï¼Œä¹Ÿå­¦èµ·äº†è‡ªå·±çš„çˆ¶äº²ï¼Œå¹¶åšäº†å­™å­å½“çˆ·çˆ·çš„å‹¾å½“ï¼ˆ*åˆ é™¤é»‘å¶å­ï¼Œé»‘è‰²å…„å¼Ÿæœ‰çº¢å­©å­ï¼ŒLRå’ŒRLæƒ…å†µ*ï¼‰ï¼
>
> æ›´æœ‰è¶£çš„æ˜¯ï¼Œå½“è¿™ä¸ªå¿ƒé»‘çš„äººå’Œä»–é»‘å¿ƒçš„å…„å¼Ÿéƒ½æ²¡æœ‰å­©å­æ—¶ï¼Œè¿™ä¸¤ä¸ªäººä¾¿æ‰“èµ·äº†ä»–ä»¬è€çˆ¶äº²çš„ä¸»æ„ã€‚å½“çˆ¶äº²æ˜¯ä¸ªå–„è‰¯çš„äººæ—¶ï¼Œå¯æ€œçš„çˆ¶äº²æ„¿æ„èƒŒè´Ÿèµ·å­©å­çš„ç½ªæ¶ï¼Œæ›¿å­©å­èµç½ªã€‚ï¼ˆ*åˆ é™¤é»‘å¶å­ï¼Œé»‘è‰²å…„å¼Ÿæ— çº¢å­©å­ï¼Œçˆ¶ç»“ç‚¹ä¸ºçº¢è‰²ï¼Œçˆ¶ç»“ç‚¹ä¸å…„å¼Ÿç»“ç‚¹äº¤æ¢é¢œè‰²*ï¼‰
>
> å½“é»‘å¿ƒäººä¸é»‘å¿ƒå…„å¼Ÿèµ¶ä¸Šäº†é»‘å¿ƒçš„çˆ¶äº²ï¼Œè¿™æ‰æ˜¯çœŸçš„åé€äº†ã€‚ç„¶è€Œç‰©æå¿…åï¼Œé»‘å¿ƒå…„å¼Ÿè‰¯å¿ƒå‘ç°ï¼ä¸è¿‡è¿™ä»é˜»æ­¢ä¸äº†é»‘å¿ƒäººä¸é»‘å¿ƒçˆ¶äº²æƒ¦è®°èµ·äº†æ›´å¹´è¿ˆçš„æ›¾çˆ·çˆ·ğŸ˜­ã€‚æ­¤æ—¶ï¼Œé»‘å¿ƒçš„çˆ·çˆ·ä»¿ä½›æˆäº†ä¸Šæ–‡çš„é»‘å¿ƒäººã€‚ï¼ˆ*åˆ é™¤é»‘å¶å­ï¼Œé»‘è‰²å…„å¼Ÿæ— çº¢å­©å­ï¼Œçˆ¶ç»“ç‚¹ä¸ºé»‘è‰²ï¼Œå…„å¼Ÿç»“ç‚¹å˜çº¢ï¼Œçˆ·ç»“ç‚¹å½“æˆåˆ é™¤çš„ç»“ç‚¹è¿›è¡Œé€’å½’*ï¼‰
>
> æœ‰äº›äººè¯´ï¼Œä¸€ä¸ªé»‘å¿ƒäººä¹Ÿå¯èƒ½æ²¡æœ‰é»‘å¿ƒå…„å¼Ÿã€‚ç¡®å®ï¼Œä¸è¿‡ç»å®éªŒè¡¨æ˜ï¼Œå–„è‰¯çš„å…„å¼Ÿä¼šè¢«é»‘å¿ƒäººåŒåŒ–ï¼Œå¯¼è‡´ä¸Šè¿°æ•…äº‹çš„é‡æ¼”ã€‚ï¼ˆ*åˆ é™¤é»‘å¶å­ï¼Œçº¢è‰²å…„å¼Ÿï¼Œé€šè¿‡æ—‹è½¬+å˜è‰²ï¼Œè½¬æ¢ä¸ºé»‘å…„å¼Ÿæƒ…å†µ*ï¼‰
>
> æ‰€ä»¥ï¼Œå±å¹•å‰çš„ä½ ï¼Œè¯·ä¿æŒå–„è‰¯ã€‚å¦åˆ™ï¼Œä¸»çš„å®¡åˆ¤è¿…é€Ÿé™ä¸´ã€‚

## å®ç°

### äºŒå‰æ’åºæ ‘(BST)

```C
BSTNode *BSTSearch(BSTree &_T,Element e,BSTree &father){
    BSTNode *T = _T;
    father=NULL;
	while(T!=NULL && ele_get_weight(T->data)!= ele_get_weight(e)){
        visit(T);
        if(ele_get_weight(e) < ele_get_weight(T->data))
        {father=T;T=T->lchild;}
        else
        {father=T;T=T->rchild;}
    }
	return T;
}

bool BSTInsert(BSTree &p,Element e){
    BSTNode *q = p;
	if(q==NULL){
        InitTree(p);
        SetTreeData(p,e);
        return true;
    }
    while(1){
        visit(q);
        if(ele_get_weight(e)< ele_get_weight(q->data))
            if(q->lchild == NULL)
                return InsertLeftTree(q,e);
            else
                q = q->lchild;
        else if(ele_get_weight(e)> ele_get_weight(q->data))
            if(q->rchild == NULL)
                return InsertRightTree(q,e);
            else
                q = q->rchild;
        else
            return false;
    }
}

bool BSTDelete1(BSTree &p,BSTree &father){
    if(father->rchild==p)
        father->rchild=NULL;
    else
        father->lchild=NULL;
    free(p);
    return true;
}

bool BSTDelete2(BSTree &p,BSTree &father){
    BSTNode *q = NULL;
    if(p->rchild==NULL)
        q=p->lchild;
    else
        q=p->rchild;
    if(father->rchild==p)
        father->rchild=q;
    else
        father->lchild=q;
    free(p);
    return true;
}

bool BSTDelete(BSTree &T, Element e){
    BSTNode *father;
    BSTNode *p = BSTSearch(T,e,father);
    if(p==NULL) return false;

    // å¦‚æœæ˜¯å¶å­ç»“ç‚¹â€”â€”ç›´æ¥åˆ é™¤
    if(p->rchild==NULL&&p->lchild==NULL){
        return BSTDelete1(p,father);
    }

    // å¦‚æœå·¦å­æ ‘æˆ–å³å­æ ‘ä¸ºç©º
    if(p->rchild==NULL||p->lchild==NULL){
        return BSTDelete2(p,father);
    }

    // å·¦å­æ ‘å³å­æ ‘éƒ½éç©º - æ‰¾åˆ°å·¦è¾¹çš„æœ€å³ä¸‹æˆ–å³è¾¹çš„æœ€å·¦ä¸‹
    BSTNode *q = p->rchild; // æœ¬æ¡ˆä¾‹æ‰¾åˆ°å³è¾¹çš„æœ€å·¦ä¸‹
    if(q->rchild==NULL && q->lchild==NULL){ // å­æ ‘åªæœ‰ä¸€å±‚ï¼Œè‡ªå·±å°±æ˜¯æœ€å·¦ä¸‹
        ele_copy(p->data,q->data);
        return BSTDelete1(q,p);
    }
    BSTNode *qf = p;
    while(1){ // æ‰¾æœ€å·¦ä¸‹å¹¶æŠŠç»“ç‚¹å¤åˆ¶åˆ°å¾…åˆ é™¤ç»“ç‚¹ä½ç½®
        if(q->lchild==NULL){
            ele_copy(p->data,q->data);
            break;
        }else{
            qf=q;
            q=q->lchild;
        }
    }
    if(q->rchild==NULL)
        return BSTDelete1(q,qf);
    else{
        ele_copy(q->data,q->rchild->data);
        return BSTDelete2(q,qf);
    }
}
```

è¿è¡Œç»“æœå±•ç¤º

```
============================
äºŒå‰æ’åºæ ‘

äºŒå‰æ’åºæ ‘çš„æ„å»º
Insert 19 :
å…ˆåºéå† : 19 

Insert 13 :19 
å…ˆåºéå† : 19 13 

Insert 50 :19 
å…ˆåºéå† : 19 13 50 

Insert 11 :19 13 
å…ˆåºéå† : 19 13 11 50 

Insert 26 :19 50 
å…ˆåºéå† : 19 13 11 50 26 

Insert 66 :19 50 
å…ˆåºéå† : 19 13 11 50 26 66 

Insert 21 :19 50 26 
å…ˆåºéå† : 19 13 11 50 26 21 66 

Insert 30 :19 50 26 
å…ˆåºéå† : 19 13 11 50 26 21 30 66 

Insert 60 :19 50 66 
å…ˆåºéå† : 19 13 11 50 26 21 30 66 60 

Insert 70 :19 50 66 
å…ˆåºéå† : 19 13 11 50 26 21 30 66 60 70 


å¾—åˆ°äºŒå‰æ’åºæ ‘:
      A-19
     /    \
    B-13  C-50
   /     /    \
  D-11  E-26   F-66
       / \     /  \
   G-21 H-30  I-60 J-70

å¯»æ‰¾å€¼ä¸ºnçš„ç»“ç‚¹
60æ˜¯å¦å­˜åœ¨: 19 50 66 
71æ˜¯å¦å­˜åœ¨: 19 50 66 70 
26æ˜¯å¦å­˜åœ¨: 19 50 

æ’å…¥ç»“ç‚¹
æ’å…¥71:19 50 66 70 
æ’å…¥31:19 50 26 30 
      A-19
     /    \
    B-13  C-50
   /     /    \
  D-11  E-26   F-66
       / \     /  \
   G-21 H-30  I-60 J-70
           \        \
           K-31     L-71

åˆ é™¤ç»“ç‚¹
åˆ é™¤å¶å­ç»“ç‚¹ 31 - ç›´æ¥åˆ é™¤ - 19 50 26 30 
å…ˆåºéå† : 19 13 11 50 26 21 30 66 60 70 71 
ä¸­åºéå† : 11 13 19 21 26 30 50 60 66 70 71 

åˆ é™¤ç»“ç‚¹å·¦æˆ–å³å­æ ‘ä¸ºç©º 13 - ç”¨å­æ ‘æ›¿ä»£è‡ªå·± - 19 
å…ˆåºéå† : 19 11 50 26 21 30 66 60 70 71 
ä¸­åºéå† : 11 19 21 26 30 50 60 66 70 71 

åˆ é™¤ç»“ç‚¹å·¦å³å­æ ‘éç©º 66 - æ‰¾å³è¾¹æœ€å·¦ä¸‹ - 19 50 
å…ˆåºéå† : 19 11 50 26 21 30 70 60 71 
ä¸­åºéå† : 11 19 21 26 30 50 60 70 71 

åˆ é™¤ç»“ç‚¹å·¦å³å­æ ‘éç©º 26 - ç”¨å­æ ‘æ›¿ä»£è‡ªå·± - 19 50 
å…ˆåºéå† : 19 11 50 30 21 70 60 71 
ä¸­åºéå† : 11 19 21 30 50 60 70 71 
```

### å¹³è¡¡äºŒå‰æ ‘(AVL)

> AVLæ ‘ä»£ç å®ç°ï¼šhttps://zhuanlan.zhihu.com/p/430037242

### çº¢é»‘æ ‘

> çº¢é»‘æ ‘ä»£ç å®ç°ï¼šhttps://www.cnblogs.com/kangsir/p/6653279.html
