# 控制器的功能和工作原理
2022.08.26

[TOC]

## 硬布线控制器

硬布线控制器有复杂的组合逻辑门电路和一些触发器组成，又称组合逻辑控制器。

### 硬布线控制单元图

<u>指令的操作码</u>是决定控制单元发出不同操作命令（控制信号）的关键。为了简化控制单元(CU）的逻辑，将指令的<u>操作码译码和节拍发生器</u>从 CU <u>分离</u>出来，便可得到简化的控制单元图。

![截屏2022-08-26 下午10.36.15](resources/硬布线1.png)

CU 的<u>输入信号来源</u>如下：

1. 经指令译码器**译码产生的指令信息**。现行指令的操作码决定了不同指令在执行周期所需完成的不同操作，因此指令的操作码宇段是控制单元的输入信号，它
   与时钟配合产生不同的控制信号。
2. 时序系统产生的机器周期信号和**节拍信号**。为了使控制单元按一定的先后顺序一定的节奏发出各个控制信号，控制单元必须受时钟控制，即一个时钟脉冲使控制单元发送一个操作命令，或发送一组需要同时执行的操作命令。
3. 
4. 来自执行单元的反馈信息即标志。控制单元有时需依赖 CPU 当前所处的状态产生控制信
   号，如BAN 指令，控制单元要根据上条指令的结果是否为负来产生不同的控制信号。
   图5.9 中，节拍发生器产生各机器周期中的节拍信号，使不同的微操作命令 C;(控制信
   号）按时间的先后发出。个别指令的操作不仅受操作码控制，还受状态标志控制，因此 CU
   的输入来自操作码译码电路 DD、节拍发生器及状态标志，其输出到 CPU 内部或外部控制总
   线上。
   注意：控制单元还接收来自系统总线（控制总线）的控制信号，如中断请求、DMA 请求。

## 微程序控制器

